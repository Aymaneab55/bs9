<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GameVault+ | Premium Games & Exclusive Content</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a56d4;
      --secondary: #7209b7;
      --accent: #4cc9f0;
      --success: #4ade80;
      --background: #0f172a;
      --surface: #1e293b;
      --surface-light: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --border: #334155;
      --shadow: rgba(0, 0, 0, 0.25);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-size: 14px;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
    }

    /* Header & Hero Section - COMPACT */
    .hero {
      background: linear-gradient(135deg, var(--background) 0%, var(--surface) 100%);
      padding: 1rem 1rem 1.5rem 1rem;
      text-align: center;
      border-bottom: 1px solid var(--border);
      position: relative;
      overflow: hidden;
      min-height: auto;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .hero::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 0.8rem;
      margin-top: 0.5rem;
    }

    .logo-icon {
      width: 38px;
      height: 38px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
    }

    .logo-text {
      font-family: 'Rajdhani', sans-serif;
      font-size: 1.6rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--text-primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .tagline {
      font-size: 0.95rem;
      color: var(--text-secondary);
      margin-bottom: 1rem;
      max-width: 100%;
      margin-left: auto;
      margin-right: auto;
      padding: 0 0.5rem;
      line-height: 1.4;
    }

    .value-props {
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 0.6rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .value-prop {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    .value-prop i {
      color: var(--success);
      font-size: 0.9rem;
    }

    /* Search Bar */
    .search-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 1rem auto;
      max-width: 100%;
      padding: 0 0.5rem;
    }

    .search-wrapper {
      position: relative;
      flex: 1;
      max-width: 400px;
    }

    #searchInput {
      padding: 0.8rem 0.8rem 0.8rem 2.5rem;
      font-size: 0.95rem;
      width: 100%;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text-primary);
      transition: all 0.3s ease;
      -webkit-appearance: none;
    }

    #searchInput:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 0.8rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    /* CTA Buttons */
    .cta-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: none;
      padding: 0.9rem 1.8rem;
      border-radius: 10px;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      color: white;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px var(--shadow);
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      margin: 0 auto;
      min-height: 46px;
      touch-action: manipulation;
    }

    .cta-btn:active {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(67, 97, 238, 0.3);
    }

    /* Games Grid - 2x2 ON MOBILE */
    .games-section {
      padding: 1.5rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 1.2rem;
      padding: 0 0.5rem;
    }

    .section-title {
      font-family: 'Rajdhani', sans-serif;
      font-size: 1.6rem;
      font-weight: 700;
      margin-bottom: 0.4rem;
      background: linear-gradient(135deg, var(--text-primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.2;
    }

    .section-subtitle {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.3;
    }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.8rem;
      margin-top: 1.2rem;
    }

    /* Game Cards */
    .game-card {
      background: var(--surface);
      border-radius: 12px;
      padding: 0.9rem;
      transition: all 0.3s ease;
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
      min-height: 170px;
      display: flex;
      flex-direction: column;
    }

    .game-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }

    .game-card:active {
      transform: translateY(-2px);
      border-color: var(--primary);
    }

    .game-header {
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
      margin-bottom: 0.6rem;
    }

    .game-icon {
      width: 42px;
      height: 42px;
      border-radius: 8px;
      object-fit: cover;
      flex-shrink: 0;
    }

    .game-info {
      flex: 1;
      min-width: 0;
    }

    .game-title {
      font-size: 0.88rem;
      font-weight: 600;
      margin-bottom: 0.2rem;
      color: var(--text-primary);
      line-height: 1.2;
      word-wrap: break-word;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .game-stats {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      font-size: 0.68rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .game-stat {
      display: flex;
      align-items: center;
      gap: 0.2rem;
      white-space: nowrap;
    }

    .game-description {
      color: var(--text-secondary);
      font-size: 0.72rem;
      margin-bottom: 0.7rem;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      flex: 1;
    }

    .game-features {
      display: none;
    }

    .download-btn {
      width: 100%;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border: none;
      padding: 0.6rem 0.8rem;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.3rem;
      font-size: 0.78rem;
      min-height: 34px;
      touch-action: manipulation;
      margin-top: auto;
    }

    .download-btn:active {
      background: linear-gradient(135deg, var(--primary-dark), var(--secondary));
      transform: translateY(-1px);
    }

    /* Platform Selection Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(15, 23, 42, 0.95);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .platform-modal {
      background: var(--surface);
      padding: 1.3rem;
      border-radius: 14px;
      text-align: center;
      max-width: 90%;
      width: 100%;
      border: 1px solid var(--border);
      box-shadow: 0 20px 40px var(--shadow);
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }

    .platform-modal img {
      width: 65px;
      height: 65px;
      border-radius: 12px;
      margin-bottom: 0.8rem;
      border: 2px solid var(--primary);
    }

    .platform-modal h2 {
      color: var(--text-primary);
      margin-bottom: 0.7rem;
      font-size: 1.2rem;
      line-height: 1.3;
    }

    .platform-modal p {
      color: var(--text-secondary);
      margin-bottom: 1.2rem;
      font-size: 0.85rem;
    }

    .platform-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
      justify-content: center;
      margin-top: 1.2rem;
    }

    .platform-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: none;
      padding: 0.9rem 1.3rem;
      border-radius: 9px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      min-height: 46px;
      touch-action: manipulation;
    }

    .platform-btn:active {
      transform: scale(0.98);
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.3rem;
      cursor: pointer;
      transition: color 0.3s ease;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      touch-action: manipulation;
    }

    .close-btn:active {
      background: rgba(255,255,255,0.1);
    }

    /* Locker System */
    .locker-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.98);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .locker-box {
      width: 100%;
      max-width: 95%;
      max-height: 90vh;
      background: var(--surface);
      padding: 1.3rem;
      border-radius: 14px;
      text-align: center;
      color: var(--text-primary);
      box-shadow: 0 25px 50px var(--shadow);
      position: relative;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border);
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .locker-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.8rem;
      padding-bottom: 0.7rem;
      border-bottom: 1px solid var(--border);
    }

    .locker-logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 700;
      color: var(--primary);
      font-size: 0.85rem;
    }

    .locker-box h2 {
      color: var(--primary);
      margin-bottom: 0.7rem;
      font-size: 1.1rem;
      line-height: 1.3;
    }

    .cta-strong {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 0.8rem;
      line-height: 1.4;
      background: rgba(76, 201, 240, 0.1);
      padding: 0.7rem;
      border-radius: 7px;
      border-left: 3px solid var(--accent);
    }

    .game-preview-locker {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      margin-bottom: 0.8rem;
      text-align: left;
      background: var(--background);
      padding: 0.7rem;
      border-radius: 9px;
      border-left: 3px solid var(--primary);
    }

    .game-preview-locker img {
      width: 38px;
      height: 38px;
      border-radius: 7px;
      box-shadow: 0 4px 12px var(--shadow);
    }

    .game-preview-content h3 {
      margin: 0;
      font-size: 0.85rem;
      color: var(--text-primary);
      line-height: 1.3;
    }

    .file-info {
      font-size: 0.68rem;
      color: var(--text-muted);
      margin-top: 0.2rem;
    }

    .platform-badge {
      display: inline-block;
      background: var(--primary);
      color: white;
      padding: 0.18rem 0.5rem;
      border-radius: 10px;
      font-size: 0.58rem;
      font-weight: bold;
      margin-top: 0.25rem;
    }

    .progress-container {
      margin: 0.8rem 0;
      background: var(--background);
      padding: 0.8rem;
      border-radius: 7px;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.4rem;
      font-size: 0.72rem;
      color: var(--text-muted);
    }

    .progress-bar {
      width: 100%;
      height: 5px;
      background: var(--surface-light);
      border-radius: 5px;
      overflow: hidden;
      margin-bottom: 0.4rem;
    }

    #progressFill {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      transition: width 0.4s ease;
      border-radius: 5px;
    }

    .progress-text {
      font-size: 0.68rem;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
    }

    #statusMessage {
      margin-top: 0.7rem;
      font-weight: bold;
      font-size: 0.72rem;
      color: var(--primary);
      min-height: 18px;
      line-height: 1.4;
      background: rgba(67, 97, 238, 0.1);
      padding: 0.5rem;
      border-radius: 5px;
    }

    .locker-close-btn {
      position: absolute;
      top: 7px;
      right: 7px;
      font-size: 1.1rem;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.3s ease;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      z-index: 10;
      touch-action: manipulation;
    }

    .locker-close-btn:active {
      background: rgba(255,85,85,0.2);
    }

    .offers-section {
      margin-top: 0.8rem;
    }

    .offers-section h3 {
      color: var(--primary);
      margin-bottom: 0.7rem;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      justify-content: center;
    }

    #offersList {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .offer-card {
      background: linear-gradient(145deg, var(--surface), var(--background));
      border: 1px solid var(--primary);
      padding: 0.8rem;
      border-radius: 7px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.7rem;
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(67, 97, 238, 0.2);
      min-height: 55px;
      touch-action: manipulation;
    }

    .offer-card:active {
      background: linear-gradient(145deg, var(--surface-light), var(--surface));
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .offer-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 3px;
      height: 100%;
      background: linear-gradient(to bottom, var(--primary), var(--accent));
    }

    .offer-content {
      flex: 1;
      text-align: left;
      min-width: 0;
    }

    .offer-title {
      font-size: 0.78rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.3rem;
      line-height: 1.3;
      word-wrap: break-word;
    }

    .offer-details {
      display: flex;
      gap: 0.5rem;
      font-size: 0.62rem;
      color: var(--text-muted);
      flex-wrap: wrap;
    }

    .offer-detail {
      display: flex;
      align-items: center;
      gap: 0.18rem;
      white-space: nowrap;
    }

    .offer-badge {
      background: linear-gradient(135deg, var(--accent), var(--primary));
      color: white;
      padding: 0.18rem 0.45rem;
      border-radius: 8px;
      font-size: 0.58rem;
      font-weight: bold;
      white-space: nowrap;
      box-shadow: 0 2px 4px rgba(76, 201, 240, 0.3);
    }

    .trust-badges {
      display: flex;
      justify-content: center;
      gap: 0.7rem;
      margin-top: 0.8rem;
      padding-top: 0.8rem;
      border-top: 1px solid var(--border);
      flex-wrap: wrap;
    }

    .trust-badge {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.62rem;
      color: var(--text-muted);
    }

    .trust-badge i {
      color: var(--success);
      font-size: 0.65rem;
    }

    /* Small Mobile Devices */
    @media (max-width: 360px) {
      .games-grid {
        grid-template-columns: 1fr;
        gap: 0.7rem;
      }
      
      .game-card {
        min-height: 155px;
        padding: 0.8rem;
      }
      
      .game-icon {
        width: 38px;
        height: 38px;
      }
      
      .game-title {
        font-size: 0.82rem;
      }
    }

    /* Large Mobile Devices */
    @media (min-width: 480px) {
      .hero {
        padding: 1.2rem 1rem 1.8rem 1rem;
      }
      
      .logo {
        margin-bottom: 1rem;
      }
      
      .logo-icon {
        width: 42px;
        height: 42px;
      }
      
      .logo-text {
        font-size: 1.7rem;
      }
      
      .games-grid {
        gap: 0.9rem;
      }
      
      .game-card {
        min-height: 180px;
        padding: 1rem;
      }
      
      .game-icon {
        width: 45px;
        height: 45px;
      }
    }

    /* Tablets */
    @media (min-width: 768px) {
      .hero {
        padding: 2rem 2rem 2.5rem 2rem;
      }
      
      .games-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
      }
      
      .game-card {
        min-height: 200px;
      }
      
      .game-features {
        display: flex;
        flex-wrap: wrap;
        gap: 0.3rem;
        margin-bottom: 0.8rem;
      }
    }

    /* Desktop */
    @media (min-width: 1024px) {
      .games-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 1.2rem;
      }
    }

    /* Safe area insets for notch phones */
    @supports(padding: max(0px)) {
      .hero, .games-section {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
      }
      
      .hero {
        padding-top: max(1rem, env(safe-area-inset-top));
      }
    }
  </style>
</head>
<body>

<!-- Hero Section -->
<section class="hero">
  <div class="logo">
    <div class="logo-icon">
      <i class="fas fa-gamepad"></i>
    </div>
    <div class="logo-text">GameVault+</div>
  </div>
  
  <p class="tagline">Get premium mobile games with exclusive content. Safe, verified, and regularly updated.</p>
  
  <div class="value-props">
    <div class="value-prop">
      <i class="fas fa-shield-check"></i>
      <span>100% Safe & Verified</span>
    </div>
    <div class="value-prop">
      <i class="fas fa-bolt"></i>
      <span>Regular Updates</span>
    </div>
    <div class="value-prop">
      <i class="fas fa-star"></i>
      <span>Premium Features</span>
    </div>
  </div>

  <!-- Search Bar -->
  <div class="search-container">
    <div class="search-wrapper">
      <i class="fas fa-search search-icon"></i>
      <input type="text" id="searchInput" placeholder="Search for games..." oninput="searchGames()">
    </div>
  </div>

  <button class="cta-btn" onclick="document.getElementById('games').scrollIntoView({behavior:'smooth'})">
    <i class="fas fa-rocket"></i>
    Explore Premium Games
  </button>
</section>

<!-- Games Section -->
<section class="games-section" id="games">
  <div class="section-header">
    <h2 class="section-title">Premium Game Collection</h2>
    <p class="section-subtitle">Hand-picked games with enhanced features</p>
  </div>

  <div class="games-grid" id="gamesGrid">
    <!-- Games will be loaded here -->
  </div>
</section>

<!-- Platform Selection Modal -->
<div id="platformModal" class="modal-overlay">
  <div class="platform-modal">
    <button class="close-btn" onclick="closePlatformModal()">√ó</button>
    <img id="modalGameImg" src="" alt="Game Icon">
    <h2 id="modalGameTitle">Select Platform</h2>
    <p>Choose your device platform to continue</p>
    <div class="platform-buttons">
      <button class="platform-btn" id="androidBtn">
        <i class="fab fa-android"></i> Android
      </button>
      <button class="platform-btn" id="iosBtn">
        <i class="fab fa-apple"></i> iOS
      </button>
    </div>
  </div>
</div>

<!-- Locker System -->
<div id="locker" class="locker-overlay">
  <div class="locker-box">
    <span class="locker-close-btn" onclick="closeLocker()">√ó</span>
    
    <div class="locker-header">
      <div class="locker-logo">
        <i class="fas fa-shield-alt"></i>
        <span>GameVault+ Secure Download</span>
      </div>
    </div>
    
    <div class="game-preview-locker" id="gamePreviewLocker"></div>
    
    <h2>‚ö° Download Verification</h2>
    <p class="cta-strong">Complete one quick offer to unlock your download + exclusive bonus content!</p>
    
    <!-- Progress Bar -->
    <div class="progress-container">
      <div class="progress-header">
        <span>Security Check</span>
        <span id="progressPercent">0%</span>
      </div>
      <div class="progress-bar">
        <div id="progressFill"></div>
      </div>
      <div class="progress-text">
        <span>Preparing download...</span>
        <span>Secure</span>
      </div>
    </div>
    
    <p id="statusMessage">üîÑ Initializing secure download...</p>
    
    <!-- Offers Section - NOW SHOWS ONLY 4 OFFERS -->
    <div id="offersSection" class="offers-section">
      <h3><i class="fas fa-gift"></i> Choose Your Offer</h3>
      <div id="offersList"></div>
      
      <div class="trust-badges">
        <div class="trust-badge">
          <i class="fas fa-shield-check"></i>
          <span>100% Secure</span>
        </div>
        <div class="trust-badge">
          <i class="fas fa-clock"></i>
          <span>1-3 Minutes</span>
        </div>
        <div class="trust-badge">
          <i class="fas fa-download"></i>
          <span>Instant Access</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // API Configuration - YOUR ADBLUEMEDIA CREDENTIALS
  const API_KEY = "3b17a09c1ca2bba2d52ffadab4894374";
  const USER_ID = "504359";
  const API_BASE_URL = "https://dbj3fg9om9jaj.cloudfront.net/public/offers/feed.php";

  // ALL YOUR ORIGINAL GAME DATA
  const games = [
    {
      title: "Forza Horizon Mobile", 
      img: "https://i.postimg.cc/nr3HwWyr/forzahorizon5-keyart-vert-rgb-final-16297203531.jpg", 
      downloads: "12,500", 
      file: "2.9 GB",
      description: "Open-world racing with enhanced graphics and unlimited credits",
      features: ["Unlimited Credits", "All Cars Unlocked", "Premium Graphics"]
    },
    {
      title: "GTA 5 Mobile : Premium Edition", 
      img: "https://i.pinimg.com/474x/9a/7b/ba/9a7bbae3f5ef777e542288942c00e7ff.jpg", 
      downloads: "14,200", 
      file: "2.3 GB",
      description: "Full GTA V experience on mobile with premium features unlocked",
      features: ["Unlimited Money", "All Weapons", "Premium Content"]
    },
    {
      title: "project brutality doom", 
      img: "https://i.postimg.cc/W4ByMNZ5/doom.webp", 
      downloads: "12,500", 
      file: "612 MB",
      description: "Open-world racing with enhanced graphics and unlimited credits",
      features: ["Unlimited Credits", "All Cars Unlocked", "Premium Graphics"]
    },
    {
      title: "Euro Truck Simulator 2 Mobile", 
      img: "https://i.postimg.cc/RFfbxH6t/ets-2-mobile-icon.avif", 
      downloads: "13,200", 
      file: "1.5GB",
      description: "Realistic truck simulation with all trucks and maps unlocked",
      features: ["All Trucks", "Unlimited Money", "Realistic Physics"]
    },
    {
      title: "Hitman: Absolution Mobile", 
      img: "https://play-lh.googleusercontent.com/sZ2vcnPx2dGILYDxX4e6VIFZq1lWdBvekVFSGphJa2Lnreo7ghXsaP11nIKq77Rl775JN6zgf7v9whOmKwpWMoY", 
      downloads: "12,500", 
      file: "544 MB",
      description: "Stealth action game with all missions and weapons unlocked",
      features: ["All Weapons", "Unlimited Ammo", "Stealth Mode"]
    },
    {
      title: "Backyard Baseball '01", 
      img: "https://i.postimg.cc/d08XNdvw/download.jpg", 
      downloads: "12,500", 
      file: "544 MB",
      description: "Classic baseball game with enhanced features and all teams",
      features: ["All Teams", "Enhanced Graphics", "Classic Gameplay"]
    },
    {
      title: "Gorilla Tag for Android/iOS", 
      img: "https://i.postimg.cc/XJjMZw2X/da0669cd4eae4556154a8f4d903b08e5.webp", 
      downloads: "12,500", 
      file: "941 MB",
      description: "VR-style tag game with premium features unlocked",
      features: ["Premium Skins", "All Maps", "Enhanced Physics"]
    },
    {
      title: "Rooftops & Alleys: The Parkour Game", 
      img: "https://image.api.playstation.com/vulcan/ap/rnd/202504/0811/1257de996c9d625bd6d16e683576218ea55a04e4ff97982b.png", 
      downloads: "14,200", 
      file: "2.3 GB",
      description: "Parkour adventure with unlimited moves and locations",
      features: ["All Moves", "Unlimited Locations", "Premium Content"]
    },
    {
      title: "Fortnite", 
      img: "https://upload.wikimedia.org/wikipedia/commons/7/7c/Fortnite_F_lettermark_logo.png", 
      downloads: "14,200", 
      file: "2.3 GB",
      description: "Battle royale with exclusive skins and V-Bucks",
      features: ["Exclusive Skins", "V-Bucks", "All Emotes"]
    },
    {
      title: "WWE 2K25: Netflix Edition", 
      img: "https://play-lh.googleusercontent.com/uD9hXMYt6fqwiSnTd6vqj0pi5JfTvIHbZR9OFllSPcuG_V1iGwNOJ26wwXd1b0z89zp-=w240-h480-rw", 
      downloads: "14,200", 
      file: "2.3 GB",
      description: "Wrestling game with all superstars and arenas unlocked",
      features: ["All Superstars", "All Arenas", "Premium Content"]
    },
    {
      title: "Highway Racer Pro MOD", 
      img: "https://i.postimg.cc/QNPgGnSS/highway-racer-pro-mod-apk.webp", 
      downloads: "14,200", 
      file: "93 MB",
      description: "High-speed racing with unlimited money and cars",
      features: ["Unlimited Money", "All Cars", "No Ads"]
    },
    {
      title: "CarX Street MOD", 
      img: "https://i.postimg.cc/SR25n5N5/unnamed-1.png", 
      downloads: "9,870", 
      file: "102 MB",
      description: "Street racing with premium tuning options unlocked",
      features: ["All Tuning", "Unlimited Cash", "Premium Cars"]
    },
    {
      title: "Baseball 9 MOD", 
      img: "https://i.postimg.cc/mZXQP2QD/Design-sans-titre.png", 
      downloads: "8,540", 
      file: "145 MB",
      description: "Baseball simulation with all players and stadiums",
      features: ["All Players", "All Stadiums", "Enhanced Gameplay"]
    },
    {
      title: "BeamNG Drive Mobile", 
      img: "https://i.postimg.cc/63gHHyKj/beamng-drive-mobile-logo.avif", 
      downloads: "11,430", 
      file: "512 MB",
      description: "Realistic vehicle physics with all vehicles unlocked",
      features: ["All Vehicles", "Real Physics", "Premium Maps"]
    },
    {
      title: "Hollow Knight Mobile", 
      img: "https://i.postimg.cc/Vvj4G8nC/icon.webp", 
      downloads: "6,300", 
      file: "72 MB",
      description: "Metroidvania adventure with all abilities unlocked",
      features: ["All Abilities", "All Maps", "Premium Content"]
    },
    {
      title: "Speed Stars MOD", 
      img: "https://i.postimg.cc/x8vnrmz9/unnamed.png", 
      downloads: "5,900", 
      file: "48 MB",
      description: "Racing game with unlimited nitro and cars",
      features: ["Unlimited Nitro", "All Cars", "Premium Tracks"]
    },
    {
      title: "Assetto Corsa Mobile", 
      img: "https://i.postimg.cc/DyHhKcYy/assetto-corsa-mobile-logo.avif", 
      downloads: "7,600", 
      file: "430 MB",
      description: "Racing simulation with all tracks and cars",
      features: ["All Tracks", "All Cars", "Realistic Physics"]
    },
    {
      title: "Lamar Idle Vlogger", 
      img: "https://i.postimg.cc/RFv1XQFq/Lamar-Idle-Vlogger-Mod-APK.webp", 
      downloads: "10,800", 
      file: "96 MB",
      description: "Idle game with unlimited resources and features",
      features: ["Unlimited Resources", "All Features", "No Ads"]
    },
    {
      title: "Snake Clash MOD", 
      img: "https://i.postimg.cc/ZqFX5FJT/71dded537746e75207450ca40f71d089ff02df7c47300f91f5a7522ec910bdc3-200.webp", 
      downloads: "4,750", 
      file: "38 MB",
      description: "Snake battle game with premium skins and powers",
      features: ["Premium Skins", "All Powers", "Enhanced Gameplay"]
    }
  ];

  // Current selection state
  let currentGame = null;
  let currentPlatform = null;
  let progressInterval;

  // Initialize everything when page loads
  document.addEventListener('DOMContentLoaded', function() {
    initializeGames();
    setupEventListeners();
    console.log('GameVault+ Mobile Optimized loaded successfully!');
  });

  // Initialize games grid
  function initializeGames() {
    const grid = document.getElementById("gamesGrid");
    grid.innerHTML = '';
    
    games.forEach((game, index) => {
      const gameCard = document.createElement('div');
      gameCard.className = 'game-card';
      gameCard.innerHTML = `
        <div class="game-header">
          <img src="${game.img}" alt="${game.title}" class="game-icon" loading="lazy"/>
          <div class="game-info">
            <h3 class="game-title">${game.title}</h3>
            <div class="game-stats">
              <div class="game-stat">
                <i class="fas fa-download"></i>
                <span>${game.downloads}</span>
              </div>
              <div class="game-stat">
                <i class="fas fa-hdd"></i>
                <span>${game.file}</span>
              </div>
            </div>
          </div>
        </div>
        <p class="game-description">${game.description}</p>
        <div class="game-features">
          ${game.features.map(feature => `<span class="feature-tag">${feature}</span>`).join('')}
        </div>
        <button class="download-btn" data-game-index="${index}">
          <i class="fas fa-download"></i>
          Get Premium
        </button>
      `;
      grid.appendChild(gameCard);
    });
  }

  // Setup event listeners
  function setupEventListeners() {
    // Game download buttons
    document.getElementById('gamesGrid').addEventListener('click', function(e) {
      if (e.target.classList.contains('download-btn')) {
        const gameIndex = e.target.getAttribute('data-game-index');
        openPlatformModal(gameIndex);
      }
    });

    // Platform selection buttons
    document.getElementById('androidBtn').addEventListener('click', function() {
      selectPlatform('android');
    });

    document.getElementById('iosBtn').addEventListener('click', function() {
      selectPlatform('ios');
    });

    // Locker overlay click
    document.getElementById('locker').addEventListener('click', function(e) {
      if (e.target === this) {
        document.getElementById("statusMessage").innerHTML = 
          "‚ö†Ô∏è <strong>Complete an offer to download the game for free!</strong>";
      }
    });
  }

  // Search function
  function searchGames() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const gameCards = document.querySelectorAll(".game-card");

    gameCards.forEach(card => {
      const gameTitle = card.querySelector(".game-title").textContent.toLowerCase();
      if (gameTitle.includes(searchInput)) {
        card.style.display = "block";
      } else {
        card.style.display = "none";
      }
    });
  }

  // Platform Selection Modal
  function openPlatformModal(gameIndex) {
    const game = games[gameIndex];
    console.log("Opening platform modal for:", game.title);
    
    currentGame = game;
    document.getElementById('modalGameImg').src = game.img;
    document.getElementById('modalGameTitle').textContent = game.title;
    document.getElementById('platformModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
  }

  function closePlatformModal() {
    document.getElementById('platformModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }

  function selectPlatform(platform) {
    console.log("Platform selected:", platform);
    currentPlatform = platform;
    closePlatformModal();
    openLocker();
  }

  // LOCKER FUNCTIONS
  function openLocker() {
    console.log("Opening locker for:", currentGame?.title, "Platform:", currentPlatform);
    
    if (!currentGame || !currentPlatform) {
      console.error("No game or platform selected!");
      return;
    }
    
    document.body.style.overflow = "hidden";
    document.getElementById("locker").style.display = "flex";
    
    // Hide offers section initially
    document.getElementById("offersSection").style.display = "none";
    
    const platformText = currentPlatform === 'android' ? 'ü§ñ Android' : 'üçé iOS';
    const fileType = currentPlatform === 'android' ? 'APK + OBB Files' : 'IPA File';
    const platformBadge = `<div class="platform-badge">${platformText}</div>`;
    
    document.getElementById("gamePreviewLocker").innerHTML = `
      <img src="${currentGame.img}" alt="${currentGame.title}" />
      <div class="game-preview-content">
        <h3>${currentGame.title}</h3>
        <p class="file-info">üì¶ ${fileType} ‚Ä¢ ${currentGame.file} ‚Ä¢ üïí Updated: Today</p>
        ${platformBadge}
      </div>`;
      
    // Start progress bar
    startOptimizedProgressBar();
  }

  function startOptimizedProgressBar(){
    let currentProgress = 0;
    let fill = document.getElementById("progressFill");
    let percent = document.getElementById("progressPercent");
    let status = document.getElementById("statusMessage");
    
    const messages = [
      "üîÑ Checking device compatibility...",
      "‚úÖ Scanning for security threats...",
      "üîê Verifying file integrity...",
      "‚ö° Optimizing download speed...",
      "üèÅ Preparing game content..."
    ];
    
    clearInterval(progressInterval);
    progressInterval = setInterval(() => {
      if(currentProgress >= 100){
        clearInterval(progressInterval);
        fill.style.width = "100%";
        percent.textContent = "100%";
        status.innerHTML = "‚úÖ <strong>Ready! Choose an offer to download</strong>";
        
        // Show offers section when progress completes
        document.getElementById("offersSection").style.display = "block";
        
        // Load offers after progress completes
        loadOffers();
      } else {
        currentProgress += 4 + Math.random() * 5;
        if(currentProgress > 100) currentProgress = 100;
        fill.style.width = currentProgress + "%";
        percent.textContent = Math.round(currentProgress) + "%";
        
        let msgIndex = Math.floor(currentProgress / 20);
        if(msgIndex < messages.length) {
          status.textContent = messages[msgIndex];
        }
      }
    }, 120);
  }

  // LOAD OFFERS FROM YOUR ADBLUEMEDIA ACCOUNT - NOW SHOWS ONLY 4 OFFERS
  function loadOffers() {
    if (!currentGame || !currentPlatform) return;
    
    const searchTerm = `${currentGame.title} ${currentPlatform}`;
    console.log("Loading offers for:", searchTerm);
    
    document.getElementById("offersList").innerHTML = "<p>Loading offers...</p>";
    
    // Build the API URL with your credentials
    const apiUrl = `${API_BASE_URL}?user_id=${USER_ID}&api_key=${API_KEY}&s1=${encodeURIComponent(searchTerm)}&s2=${encodeURIComponent(currentPlatform)}`;
    
    console.log("API Request:", apiUrl);
    
    // Fetch offers from AdBlueMedia
    fetch(apiUrl)
      .then(response => {
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
      })
      .then(offers => {
        console.log("AdBlueMedia API Response:", offers);
        
        if (!offers || !Array.isArray(offers) || offers.length === 0) {
          console.log("No offers received from AdBlueMedia, using fallback");
          showFallbackOffers();
          return;
        }
        
        displayOffers(offers);
      })
      .catch(error => {
        console.error("AdBlueMedia API Error:", error);
        console.log("Using fallback offers due to API error");
        showFallbackOffers();
      });
  }

  function showFallbackOffers() {
    const fallbackOffers = [
      {
        anchor: "Complete Quick Survey (1-2 minutes)",
        url: `https://dbj3fg9om9jaj.cloudfront.net/public/offers/click.php?user_id=${USER_ID}&api_key=${API_KEY}&offer_id=survey1`,
        type: "survey"
      },
      {
        anchor: "Watch Short Video Ad (45-60 seconds)", 
        url: `https://dbj3fg9om9jaj.cloudfront.net/public/offers/click.php?user_id=${USER_ID}&api_key=${API_KEY}&offer_id=video1`,
        type: "video"
      },
      {
        anchor: "Free App Trial (2-3 minutes)",
        url: `https://dbj3fg9om9jaj.cloudfront.net/public/offers/click.php?user_id=${USER_ID}&api_key=${API_KEY}&offer_id=trial1`,
        type: "trial"
      },
      {
        anchor: "Quick Registration (1-2 minutes)",
        url: `https://dbj3fg9om9jaj.cloudfront.net/public/offers/click.php?user_id=${USER_ID}&api_key=${API_KEY}&offer_id=register1`,
        type: "registration"
      }
      // Removed the 5th offer to only show 4
    ];
    
    displayOffers(fallbackOffers);
  }

  function displayOffers(offers) {
    let html = "";
    const badges = ["Recommended", "Easy", "Popular", "Quick"]; // Only 4 badges now
    
    // Show only 4 offers instead of 5
    offers.slice(0,4).forEach((offer, index) => {
      const timeOptions = [60, 90, 120, 150];
      const timeEstimate = timeOptions[index] || 120;
      const successRate = 85 + Math.floor(Math.random() * 10);
      const usersCompleted = Math.floor(Math.random() * 50000) + 20000;
      const offerType = offer.type || ['survey', 'video', 'trial', 'registration'][index]; // Only 4 types
      
      // Use the actual offer URL from AdBlueMedia or fallback
      const offerUrl = offer.url || `https://dbj3fg9om9jaj.cloudfront.net/public/offers/click.php?user_id=${USER_ID}&api_key=${API_KEY}&offer_id=${offer.id || 'default'}`;
      
      html += `
      <div class="offer-card" onclick="selectOffer('${offerUrl}', '${currentGame.title.replace(/'/g, "\\'")}', '${currentPlatform}', '${offerType}', '${offer.anchor || "Quick Task"}')">
        <div class="offer-content">
          <div class="offer-title">${offer.anchor || "Complete Quick Task"}</div>
          <div class="offer-details">
            <div class="offer-detail">‚úÖ ${successRate}% Success</div>
            <div class="offer-detail">‚è± ${Math.floor(timeEstimate/60)} min</div>
            <div class="offer-detail">üë• ${(usersCompleted/1000).toFixed(0)}K+ completed</div>
          </div>
        </div>
        <div class="offer-badge">${badges[index] || "Special"}</div>
      </div>`;
    });
    document.getElementById("offersList").innerHTML = html;
  }

  function selectOffer(url, gameName, platform, offerType, offerTitle) {
    console.log(`üéØ LEAD CAPTURED: ${gameName} - ${platform} - ${offerType} - "${offerTitle}"`);
    
    // Track conversion to YOUR AdBlueMedia account
    trackAdBlueMediaConversion(gameName, platform, offerType, offerTitle);
    
    // Add tracking parameters for your account
    const trackingParams = `&subid=${USER_ID}_${gameName.replace(/\s+/g, '_')}_${platform}&game=${encodeURIComponent(gameName)}&platform=${platform}&offer_type=${offerType}&source=apkmod`;
    const trackedUrl = url + (url.includes('?') ? '&' : '?') + trackingParams;
    
    document.getElementById("statusMessage").innerHTML = 
      "‚úÖ <strong>Opening offer...</strong> Complete it to download!";
    
    window.open(trackedUrl, '_blank');
    
    setTimeout(() => {
      document.getElementById("statusMessage").innerHTML = 
        "‚úÖ <strong>Offer completed!</strong> Your download is starting...";
      
      setTimeout(() => {
        const platformText = platform === 'android' ? 'APK file' : 'IPA file';
        alert(`üéâ Download for ${gameName} Premium (${platformText}) will start when you finish completing the offer`);
        closeLocker();
      }, 3000);
    }, 1500);
  }

  function closeLocker(){
    document.getElementById("locker").style.display = "none";
    document.getElementById("progressFill").style.width = "0%";
    document.getElementById("progressPercent").textContent = "0%";
    document.body.style.overflow = "auto";
    clearInterval(progressInterval);
    currentGame = null;
    currentPlatform = null;
  }

  // AdBlueMedia Tracking
  function trackAdBlueMediaConversion(gameName, platform, offerType, offerTitle) {
    const conversionData = {
      user_id: USER_ID,
      api_key: API_KEY,
      game: gameName,
      platform: platform,
      offer_type: offerType,
      offer_title: offerTitle,
      source: 'apkmod',
      campaign: 'game_download',
      conversion_type: 'lead',
      timestamp: Date.now(),
      revenue: 0.15
    };

    console.log('üìä Tracking conversion to YOUR AdBlueMedia account:', conversionData);
    
    // Track conversion using YOUR AdBlueMedia pixel
    const trackingPixel = `https://dbj3fg9om9jaj.cloudfront.net/public/conversion/pixel.gif?user_id=${USER_ID}&api_key=${API_KEY}&game=${encodeURIComponent(gameName)}&platform=${platform}&offer_type=${offerType}&conversion=lead&revenue=0.15`;
    const img = new Image();
    img.src = trackingPixel;
    
    // Also send conversion data via POST
    fetch('https://dbj3fg9om9jaj.cloudfront.net/public/conversion/track.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(conversionData)
    })
    .then(response => response.json())
    .then(data => {
      console.log('‚úÖ Conversion tracked in YOUR AdBlueMedia dashboard:', data);
    })
    .catch(error => {
      console.log('‚ö†Ô∏è Conversion tracking failed, but pixel was sent:', error);
    });
  }
</script>

</body>
</html>
